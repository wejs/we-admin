{{#bs-modal
  open=upload.modalOpen
  onSubmit=(action "upload")
  onHidden=(action "onHideUploadModal")
  class="file-selector-modal"
    as |modal|
}}
  {{#modal.header}}
    <h4 class="modal-title">
      <i class="glyphicon glyphicon-picture"></i> {{t 'image.selector'}}
    </h4>
  {{/modal.header}}
  {{#modal.body}}
    {{#if upload.error}}
      <div class="alert alert-danger text-center" role="alert">{{{upload.error}}}</div>
    {{else}}
      {{#if upload.uploader}}
        {{#if upload.uploader.isUploading}}
          {{#bs-progress as |p|}}
            {{p.bar value=upload.percent minValue=0 maxValue=100 roundDigits=upload.percent showLabel=true animate=true type="success" striped=true}}
          {{/bs-progress}}
        {{else}}
          <div class="row">
            <div class="col-md-2">
              <img src={{upload.previewImageSrc}} class="content-image preview"/>
            </div>
            <div class="col-md-10">
              {{textarea value=upload.description class="form-control" placeholder="Clique aqui e descreve a imagem"}}
              <p class="help-block">Descrição da imagem. Essa descrição é usada como informação alternativa para leitores de tela.</p>
            </div>
          </div>
        {{/if}}
      {{else}}
        {{#bs-tab as |tab|}}
          {{#tab.pane title="Upload / enviar"}}
            {{image-upload
              uploader=upload.uploader
              url=upload.url
              progress='progress'
              didUpload='didUpload'
              didError='didError'
              selected='selected'
            }}
          {{/tab.pane}}
          {{#tab.pane title="Selecionar imagem salva"}}
            {{we-images-to-select onSelectImage=(action 'onSelectSalvedImage')}}
          {{/tab.pane}}
        {{/bs-tab}}
      {{/if}}
    {{/if}}
  {{/modal.body}}
  {{#modal.footer as |footer|}}
    {{#bs-button onClick=(action modal.close) type="default" class="cancel-image-btn"}}
      {{t 'Cancel'}}
    {{/bs-button}}
    {{#bs-button onClick=(action modal.submit) type="primary" disabled=upload.notReadyToUpload class="submit-image-btn"}}
      {{t 'image.Add'}}
    {{/bs-button}}
  {{/modal.footer}}
{{/bs-modal}}